<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–∞–º—ã üéâ</title>
<link rel="icon" href="https://cdn-icons-png.flaticon.com/512/4206/4206277.png" type="image/png">
<style>
  :root{--accent:#9575cd;--accent-dark:#7e57c2}
  *{box-sizing:border-box}
  body{
    margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;
    font-family:"Playfair Display",serif;
    background:linear-gradient(120deg,#b39ddb,#80deea,#ce93d8);
    background-size:400% 400%;animation:gradientShift 12s ease infinite;
  }
  @keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
  .container{width:90%;max-width:380px;background:rgba(255,255,255,0.25);backdrop-filter:blur(15px);border-radius:20px;padding:30px;box-shadow:0 8px 30px rgba(0,0,0,.15);transition:opacity .4s,transform .4s}
  h2{margin:0 0 14px 0;font-size:1.6rem}
  .hidden{opacity:0;pointer-events:none;transform:translateY(16px)}
  input{width:100%;padding:12px;border-radius:10px;border:none;margin:8px 0;font-size:1rem}
  button{width:100%;padding:12px;border-radius:12px;border:none;background:var(--accent);color:#fff;font-size:1rem;cursor:pointer}
  button:hover{background:var(--accent-dark)}
  a{color:#6a1b9a;text-decoration:none;font-weight:600}
  .card{background:rgba(255,255,255,0.25);backdrop-filter:blur(20px);padding:24px;border-radius:18px;box-shadow:0 6px 24px rgba(200,180,255,.4);text-align:left}
  .card h1{margin-top:0;font-size:1.6rem}
  .logout-btn{background:#ba68c8;margin-top:18px}
  audio{display:none}
  /* –∫–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è –º—É–∑—ã–∫–∏ –µ—Å–ª–∏ –∞–≤—Ç–æ–ø–ª–µ–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω */
  #enableSoundBtn{
    position:fixed;left:50%;transform:translateX(-50%);bottom:24px;background:linear-gradient(90deg,#8e24aa,#ff6f91);
    color:white;border:none;padding:10px 18px;border-radius:999px;box-shadow:0 6px 18px rgba(0,0,0,.25);display:none;z-index:9999;
  }
  @media(max-width:600px){.container{padding:20px}}
</style>
</head>
<body>

  <div id="loginContainer" class="container">
    <h2>–í—Ö–æ–¥</h2>
    <form id="loginForm" autocomplete="off">
      <input id="loginUsername" type="text" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
      <input id="loginPassword" type="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
      <button id="loginBtn" type="submit">–í–æ–π—Ç–∏</button>
    </form>
    <p style="margin-top:10px">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="showRegisterLink">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
  </div>

  <div id="registerContainer" class="container hidden">
    <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
    <input id="regUsername" type="text" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
    <input id="regPassword" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button id="createAccountBtn">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
    <p style="margin-top:10px">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="showLoginLink">–í–æ–π—Ç–∏</a></p>
  </div>

  <div id="cardContainer" class="container hidden card" aria-hidden="true">
    <h1>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –º–∞–º–∞!</h1>
    <p style="margin:0 0 10px 0;line-height:1.5">
      –ú–∏–ª–∞—è, –¥–æ–±—Ä–∞—è, –Ω–µ–∂–Ω–∞—è —Å–∞–º–∞—è,<br>
      –°–∫–æ–ª—å–∫–æ –∏—Å–ø–æ–ª–Ω–∏–ª–æ—Å—å ‚Äî —ç—Ç–æ –Ω–µ –≥–ª–∞–≤–Ω–æ–µ,<br>
      –¢—ã ‚Äî –±–µ—Å–ø–æ–¥–æ–±–Ω–∞, –∫—Ä–∞—Å–∏–≤–∞, —É–º–Ω–∞,<br>
      –ú–∞–º–∞ –º–æ—è, —É –º–µ–Ω—è —Ç—ã –æ–¥–Ω–∞!<br><br>
      –°—á–∞—Å—Ç–ª–∏–≤–∞ –±—É–¥—å, —É–ª—ã–±–∞–π—Å—è, —Ä–æ–¥–Ω–∞—è,<br>
      –î–æ–ª–≥–æ –∂–∏–≤–∏, –æ–≥–æ—Ä—á–µ–Ω–∏–π –Ω–µ –∑–Ω–∞—è,<br>
      –ó–¥–æ—Ä–æ–≤–æ—é –±—É–¥—å, —ç–Ω–µ—Ä–≥–∏—á–Ω–æ–π –≤—Å–µ–≥–¥–∞,<br>
      –¢–∞–∫–æ–π, –∫–∞–∫ —Å–µ–π—á–∞—Å, –±—É–¥—å –≤—Å–µ–≥–¥–∞ –º–æ–ª–æ–¥–∞!<br><br>
      –ü—É—Å—Ç—å –¥–æ–±—Ä–æ–µ —Å–µ—Ä–¥—Ü–µ –ø–µ—á–∞–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç,<br>
      –î—É—à–∞ —Ç–≤–æ—è, –º–∞–º–∞, –ø—É—Å–∫–∞–π –Ω–µ —Å—Ç—Ä–∞–¥–∞–µ—Ç,<br>
      –ß—Ç–æ–± —Ç—ã —É–ª—ã–±–∞–ª–∞—Å—å, —Ä–æ–¥–Ω–∞—è –º–æ—è,<br>
      –ï—â—ë —Ä–∞–∑ —Ç–µ–±—è –ø–æ–∑–¥—Ä–∞–≤–ª—è—é, –ª—é–±—è!<br>
      –Ø —Ç–µ–±—è –æ—á–µ–Ω—å –ª—é–±–ª—é üíñ
    </p>
    <button class="logout-btn" id="logoutBtn">–í—ã–π—Ç–∏</button>
  </div>

  <audio id="bgMusic" preload="auto" loop>
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <button id="enableSoundBtn">–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</button>

<script>
  // —ç–ª–µ–º–µ–Ω—Ç—ã
  const loginContainer = document.getElementById('loginContainer');
  const registerContainer = document.getElementById('registerContainer');
  const cardContainer = document.getElementById('cardContainer');
  const loginForm = document.getElementById('loginForm');
  const regUser = document.getElementById('regUsername');
  const regPass = document.getElementById('regPassword');
  const createAccountBtn = document.getElementById('createAccountBtn');
  const showRegisterLink = document.getElementById('showRegisterLink');
  const showLoginLink = document.getElementById('showLoginLink');
  const logoutBtn = document.getElementById('logoutBtn');
  const audio = document.getElementById('bgMusic');
  const enableSoundBtn = document.getElementById('enableSoundBtn');

  // –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤
  showRegisterLink.addEventListener('click', (e)=>{ e.preventDefault(); loginContainer.classList.add('hidden'); registerContainer.classList.remove('hidden'); });
  showLoginLink.addEventListener('click', (e)=>{ e.preventDefault(); registerContainer.classList.add('hidden'); loginContainer.classList.remove('hidden'); });

  // —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (–ø—Ä–æ—Å—Ç–∞—è, –ª–æ–∫–∞–ª—å–Ω–æ)
  createAccountBtn.addEventListener('click', (e)=>{
    e.preventDefault();
    const user = (regUser.value||'').trim();
    const pass = (regPass.value||'').trim();
    if(!user || !pass){ alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ –ø–æ–ª—è!'); return; }
    localStorage.setItem('user_'+user, pass);
    alert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞. –í–æ–π–¥–∏—Ç–µ.');
    regUser.value=''; regPass.value='';
    registerContainer.classList.add('hidden'); loginContainer.classList.remove('hidden');
  });

  // –ª–æ–≥–∏–Ω ‚Äî —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ submit —Ñ–æ—Ä–º—ã (–Ω–∞–∂–∞—Ç–∏–µ Enter –∏–ª–∏ –∫–Ω–æ–ø–∫–∏)
  loginForm.addEventListener('submit', (e)=>{
    e.preventDefault();
    const user = (document.getElementById('loginUsername').value||'').trim();
    const pass = (document.getElementById('loginPassword').value||'').trim();
    const saved = localStorage.getItem('user_'+user);
    if(saved && saved === pass){
      localStorage.setItem('lastUser', user);
      // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É
      loginContainer.classList.add('hidden');
      cardContainer.classList.remove('hidden');
      cardContainer.setAttribute('aria-hidden','false');

      // –ø–æ–ø—ã—Ç–∫–∞ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å—Ç–∏—Ç—å –º—É–∑—ã–∫—É ‚Äî —Å—Ç—Ä–æ–≥–æ –∑–¥–µ—Å—å, –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ (—á–µ—Ä–µ–∑ submit)
      // –µ—Å–ª–∏ –∞–≤—Ç–æ–ø–ª–µ–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, catch –ø–æ–∫–∞–∂–µ—Ç –∫–Ω–æ–ø–∫—É enableSoundBtn
      audio.play().then(()=> {
        enableSoundBtn.style.display = 'none';
      }).catch((err)=>{
        // –∞–≤—Ç–æ–ø–ª–µ–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω–æ –≤–∫–ª—é—á–∏–ª –∑–≤—É–∫
        enableSoundBtn.style.display = 'block';
        console.log('Autoplay blocked:', err);
      });
    } else {
      alert('–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å!');
    }
  });

  // –µ—Å–ª–∏ –∞–≤—Ç–æ–ø–ª–µ–π –±—ã–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç —ç—Ç—É –∫–Ω–æ–ø–∫—É –∏ –∑–≤—É–∫ –≤–∫–ª—é—á–∞–µ—Ç—Å—è
  enableSoundBtn.addEventListener('click', async ()=>{
    try{
      await audio.play();
      enableSoundBtn.style.display = 'none';
    }catch(e){
      console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫:', e);
      alert('–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
    }
  });

  // –≤—ã—Ö–æ–¥
  logoutBtn.addEventListener('click', ()=>{
    localStorage.removeItem('lastUser');
    cardContainer.classList.add('hidden');
    cardContainer.setAttribute('aria-hidden','true');
    loginContainer.classList.remove('hidden');
    audio.pause(); audio.currentTime = 0;
    enableSoundBtn.style.display = 'none';
  });

  // –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ ‚Äî –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –±—ã–ª –≤ —Å–∏—Å—Ç–µ–º–µ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –∏ –ø—ã—Ç–∞–µ–º—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –º—É–∑—ã–∫—É (–æ–ø—è—Ç—å –∂–µ ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ —ç—Ç–æ–º—É –º–µ—Å—Ç—É)
  window.addEventListener('load', ()=>{
    const last = localStorage.getItem('lastUser');
    if(last){
      loginContainer.classList.add('hidden');
      cardContainer.classList.remove('hidden');
      cardContainer.setAttribute('aria-hidden','false');
      audio.play().catch(()=> {
        enableSoundBtn.style.display = 'block';
      });
    }
  });
</script>
</body>
</html>
